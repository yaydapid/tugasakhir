"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[165],{7165:(se,F,c)=>{c.r(F),c.d(F,{ReportModule:()=>Xt});var h=c(9808),Q=c(4738),A=c(2497),t=c(5e3);let I=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-report"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[A.lC],encapsulation:2}),i})();var l=c(8279),b=c(4847),v=c(8246),T=c(5331),x=c(2340),y=c(3858),D=c(7313);let M=(()=>{class i extends D.Z{constructor(){super(),this.defineOptions({chartTitle:"Thickness vs Year",yTitle:"Thickness (mm)",xTitle:"Year"})}ngOnInit(){this.generateChart("DashboardThickness")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-dashboard-thickness-chart"]],features:[t.qOj],decls:1,vars:0,consts:[["id","DashboardThickness"]],template:function(e,n){1&e&&t._UZ(0,"canvas",0)},encapsulation:2}),i})(),S=(()=>{class i extends D.Z{constructor(){super(),this.defineOptions({chartTitle:"Remaining Life vs Year",yTitle:"Remaining Life (years)",xTitle:"Year"})}ngOnInit(){this.generateChart("DashboardRemaining")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-dashboard-remaining-chart"]],features:[t.qOj],decls:1,vars:0,consts:[["id","DashboardRemaining"]],template:function(e,n){1&e&&t._UZ(0,"canvas",0)},encapsulation:2}),i})();var Y=c(4641),R=c.n(Y),j=c(8493),E=c(7238),z=c.n(E),p=c(3254),B=c(520);let w=(()=>{class i{constructor(e){this.httpClient=e,this.apiUrl=x.N.apiUrl}getAssetsReport(e){return this.httpClient.get(this.apiUrl+"/asset_report/"+e)}getCircuitReport(e){return this.httpClient.get(this.apiUrl+"/circuit_report/"+e)}getAttachment(e){return this.httpClient.get(this.apiUrl+"/document/"+e,{responseType:"arraybuffer"})}publishReportAsett(e,n){return this.httpClient.put(this.apiUrl+"/publish_asset/"+n,e)}publishReportCircuit(e,n){return this.httpClient.put(this.apiUrl+"/publish_circuit/"+n,e)}addQRCode(e){return this.httpClient.post(this.apiUrl+"/qr_code",e)}getQRCode(e){return this.httpClient.get(this.apiUrl+"/qr_code/"+e,{responseType:"arraybuffer"})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(B.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $=["pdfThickness"];R().vfs=j.I.vfs;let O=(()=>{class i{constructor(e,n){this.toastr=e,this.reportService=n,this.tableStyle={"font-size":"12px"},this.pdfHead=[{name:"Id",props:"cml_id",width:"*"},{name:"Gauge Point",props:"gauge_point",width:"auto"},{name:"Location",props:"point_location",width:"auto"},{name:"Nom Thickness",props:"nominal_thickness",width:"auto"},{name:"Min Req Thickness",props:"min_required_thickness",width:"auto"},{name:"Last Thick Read",props:"last_thickness_reading",width:"auto"},{name:"Last Thick Date",props:"last_thickness_reading_date",width:"auto"},{name:"Calc CR",props:"calculated_cr",width:"*"}],this.refreshPage=new t.vpe}ngOnInit(){this.randomString=(Math.random()+1).toString(36).substring(7),R().tableLayouts={exampleLayout:{hLineWidth:function(e,n){return 0===e||e===n.table.body.length?0:e===n.table.headerRows?2:1},vLineWidth:function(e){return 0},hLineColor:function(e){return 1===e?"black":"#aaa"},paddingLeft:function(e){return 0===e?0:8},paddingRight:function(e,n){return e===n.table.widths.length-1?0:8}}}}printAsPDF(e){console.log(e),this.tableData=e,setTimeout(()=>{this.downloadAsPDF().print()},500)}publishReport(e){this.tableData=e,setTimeout(()=>{const n=this.downloadAsPDF();n.getBlob(a=>{var s;const r=null===(s=this.tableData)||void 0===s?void 0:s.piping_name,g=new File([a],r+".pdf"),m=new FormData;m.append("qr_code",g),m.append("title",this.randomString),this.reportService.addQRCode(m).subscribe(()=>this.toastr.success("Your Report has been published.","QR Code has been added."),()=>this.toastr.danger("Your Report failed to published.","Failed to generate qr code.")),this.reportService.publishReportAsett({qr_code:this.randomString},this.tableData.id).subscribe(()=>this.toastr.success("Your Report has been published.","Success Publish Report."),()=>this.toastr.danger("Your Report failed to published.","Failed Publish Report."),()=>this.refreshPage.emit(!0))}),n.download()},500)}downloadAsPDF(){var e;const n=this.pdfThickness.nativeElement;let a=z()(n.innerHTML);(null===(e=this.tableData)||void 0===e?void 0:e.qr_code)&&(a[2].table.body[0][2].stack[0]={qr:x.N.apiUrl+"/qr_code/"+this.tableData.qr_code}),this.tableData.qr_code||(a[2].table.body[0][2].stack[0]={qr:x.N.apiUrl+"/qr_code/"+this.randomString});const s={content:[a],pageBreakBefore:function(r){return r.style&&r.style.indexOf("pdf-pagebreak-before")>-1}};return R().createPdf(s)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.quB),t.Y36(w))},i.\u0275cmp=t.Xpm({type:i,selectors:[["report-assets-pdf"]],viewQuery:function(e,n){if(1&e&&t.Gf($,5),2&e){let a;t.iGM(a=t.CRH())&&(n.pdfThickness=a.first)}},outputs:{refreshPage:"refresh"},decls:32,vars:1,consts:[[1,"container",2,"display","none"],["id","Thickness"],["pdfThickness",""],[2,"width","100%","margin","0 0 1rem 0","color","#5588EE"],["data-pdfmake","{'layout' : 'noBorders', 'widths' : ['auto', 'auto', '25%']}"],[2,"color","darkgray"],["rowspan","4",1,"qr_code"],[2,"color","darkgray","font-size","8px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"span")(6,"b"),t._uU(7,"Pipe Details"),t.qZA()(),t.TgZ(8,"table",4)(9,"tr")(10,"td",5),t._uU(11," Date in Service "),t.qZA(),t.TgZ(12,"td"),t._uU(13," 2027-05-20 "),t.qZA(),t.TgZ(14,"td",6)(15,"div",7),t._uU(16,"QR Code Not Available"),t.qZA()()(),t.TgZ(17,"tr")(18,"td",5),t._uU(19," Class "),t.qZA(),t.TgZ(20,"td"),t._uU(21," 1 "),t.qZA()(),t.TgZ(22,"tr")(23,"td",5),t._uU(24," Notes "),t.qZA(),t.TgZ(25,"td"),t._uU(26," Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic ratione quia sint excepturi molestias a magnam officiis, voluptatum porro ducimus recusandae explicabo dignissimos cum doloribus voluptates in saepe, eligendi aut. "),t.qZA()(),t.TgZ(27,"tr")(28,"td",5),t._uU(29," Recomendation "),t.qZA(),t.TgZ(30,"td"),t._uU(31," Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic ratione quia sint excepturi molestias a magnam officiis, voluptatum porro ducimus recusandae explicabo dignissimos cum doloribus voluptates in saepe, eligendi aut. "),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("Report ",null==n.tableData?null:n.tableData.piping_id,""))},encapsulation:2}),i})();var N=c(7024),G=c(9371),Z=c(4204),q=c(7531);function V(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",30),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function W(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",30),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function X(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",30),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function K(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",30),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const tt=function(){return{width:"40px"}};function et(i,o){1&i&&(t.TgZ(0,"th",31),t._uU(1," Piping ID "),t.qZA()),2&i&&t.Q6J("ngStyle",t.DdM(1,tt))}const it=function(i){return{color:i}};function nt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",32,33),t.NdJ("mouseover",function(){return t.CHM(e),t.MAs(1).style.color="#0492c2"})("mouseout",function(){const s=t.CHM(e).$implicit;return t.MAs(1).style.color=t.oxw().pipeData==s?"#0492c2":"black"})("click",function(){const s=t.CHM(e).$implicit;return t.oxw().showData(s)}),t._uU(2),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.Q6J("ngStyle",t.VKq(2,it,n.pipeData==e?"#0492c2":"black")),t.xp6(2),t.hij(" ",e.piping_id," ")}}function at(i,o){1&i&&t._UZ(0,"tr",34)}function ot(i,o){1&i&&t._UZ(0,"tr",35)}function st(i,o){1&i&&(t.TgZ(0,"h5"),t._uU(1,"Please Add Asset Data."),t.qZA())}function rt(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"No Image Available"),t.qZA())}function ct(i,o){if(1&i&&(t.TgZ(0,"div",56)(1,"div",57),t._UZ(2,"img",58),t.qZA()()),2&i){const e=o.$implicit;t.Q6J("ngClass",0==o.index?"active":""),t.xp6(2),t.Q6J("src",e.src,t.LSH)("alt",null==e?null:e.alt)}}function pt(i,o){if(1&i&&(t.TgZ(0,"div",59),t._UZ(1,"ngx-qrcode",60),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("elementType",e.elementType)("errorCorrectionLevel",e.correctionLevel)("value",e.reportURL)}}function lt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.pdfReportAssets.publishReport(a.pipeData)}),t._uU(1," Publish Report "),t.qZA()}}function ut(i,o){if(1&i&&(t.TgZ(0,"div",62)(1,"span",63),t._uU(2),t.qZA(),t.TgZ(3,"span",4),t._uU(4),t.qZA()()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(n.pipeData[e.props])}}function dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"section")(1,"h6",21),t._uU(2),t.qZA(),t.TgZ(3,"div",10)(4,"div",36)(5,"div",37)(6,"div",38),t.YNc(7,rt,2,0,"span",20),t.YNc(8,ct,3,3,"div",39),t.qZA(),t.TgZ(9,"button",40),t._UZ(10,"span",41),t.TgZ(11,"span",42),t._uU(12,"Previous"),t.qZA()(),t.TgZ(13,"button",43),t._UZ(14,"span",44),t.TgZ(15,"span",42),t._uU(16,"Next"),t.qZA()()()(),t.TgZ(17,"div",45)(18,"div"),t.YNc(19,pt,2,3,"div",46),t.YNc(20,lt,2,0,"button",47),t.TgZ(21,"div",48)(22,"button",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.pdfReportAssets.printAsPDF(a.pipeData)}),t._UZ(23,"nb-icon",50),t.qZA(),t.TgZ(24,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw().seeDocument()}),t._UZ(25,"nb-icon",52),t.qZA()()()()(),t.TgZ(26,"div",53)(27,"span",54),t._uU(28,"Date In Service"),t.qZA(),t.TgZ(29,"span",36),t._uU(30),t.qZA(),t.TgZ(31,"span",54),t._uU(32,"Class"),t.qZA(),t.TgZ(33,"span",36),t._uU(34),t.qZA(),t.TgZ(35,"span",54),t._uU(36,"Notes"),t.qZA(),t.TgZ(37,"span",36),t._uU(38),t.qZA()(),t.TgZ(39,"span",55),t._uU(40,"Recomendation"),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.qZA(),t.TgZ(43,"div",25),t.YNc(44,ut,5,2,"div",26),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("Piping Assets ",null==e.pipeData?null:e.pipeData.piping_id,""),t.xp6(5),t.Q6J("ngIf",!e.imageLink),t.xp6(1),t.Q6J("ngForOf",e.imageLink),t.xp6(11),t.Q6J("ngIf",e.reportURL),t.xp6(1),t.Q6J("ngIf",!e.reportURL),t.xp6(4),t.Q6J("disabled",!(null!=e.pipeData&&e.pipeData.attachment)),t.xp6(6),t.Oqu((null==e.pipeData?null:e.pipeData.date_in_service)||"-"),t.xp6(4),t.Oqu((null==e.pipeData?null:e.pipeData.class)||"-"),t.xp6(4),t.Oqu((null==e.pipeData?null:e.pipeData.notes)||"-"),t.xp6(4),t.Oqu((null==e.pipeData?null:e.pipeData.recomendation)||"-"),t.xp6(2),t.Q6J("ngForOf",e.spesificationItem)}}function mt(i,o){if(1&i&&(t.TgZ(0,"div",10)(1,"span",64),t._uU(2),t.qZA(),t.TgZ(3,"span",4),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.data||"-")}}function _t(i,o){if(1&i&&(t.TgZ(0,"div",62)(1,"span",63),t._uU(2),t.qZA(),t.TgZ(3,"span",4),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu((null==e?null:e.data)||"-")}}function gt(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Data Not Available"),t.qZA())}const P=function(){return{show:!1}};function ht(i,o){if(1&i&&t._UZ(0,"ngx-mat-table",27),2&i){const e=t.oxw();t.Q6J("tableHeader",t.DdM(4,P))("tableFooter",t.DdM(5,P))("columnDetails",e.inspectionHistoryDetails)("tableData",e.inspectionHistoryData)}}const ft=function(){return["All",1,2,3,4]},bt=function(){return["No Filter","Excellent","Good","Average","Below Average","Poor"]},vt=function(){return["No Filter","Low","Medium","High"]},xt=function(){return["No Filter","Normal","Abnormal"]},Tt=function(){return{pageSize:5}};let Zt=(()=>{class i{constructor(e,n,a,s){this.reportService=e,this.variables=n,this.toastr=a,this.thicknesService=s,this.elementType=v.TT.URL,this.correctionLevel=v.Jk.HIGH,this.tablePosition=[],this.displayedColumns=["piping_id"],this.resultsLength=0,this.imageLink=[],this.spesificationItem=[{props:"nominal_pipe_size",name:"Nominal Pipe Size",unit:"mm"},{props:"pipe_design_code",name:"Pipe Design Code"},{props:"schedule",name:"Schedule",unit:"mm"},{props:"outside_diameter",name:"Outside Diameter"},{props:"longtd_quality_factor",name:"Longtd. Quality Factor (E)"},{props:"weld_joint_factor",name:"Weld Joint Factor (W)"},{props:"allowable_unit_stress",name:"Allowable Unit Stress (S)",unit:"psi"},{props:"coefficient",name:"Coefficient (Y)"},{props:"min_design_pressure",name:"Min. Design Pressure (P min)",unit:"psig"},{props:"max_design_pressure",name:"Max. Design Pressure (P max)",unit:"psig"},{props:"min_design_temperature",name:"Min. Design Temperature (T min)",unit:"F"},{props:"max_design_temperature",name:"Max Design Temperature (T max)",unit:"F"},{props:"corrosion_allowance",name:"Corrosion Allowance",unit:"mm"},{props:"mechanical_allowance",name:"Mechanical Allowances",unit:"mm"},{props:"min_structural_thickness",name:"Min. Structural Thickness",unit:"mm"},{props:"min_alert_thickness",name:"Min. Alert Thickness",unit:"mm"},{props:"nominal_thickness",name:"Nominal Thickness",unit:"mm"}],this.pipingVisual=[{name:"Leaks",props:"leaks_condition",data:null},{name:"Misalignment",props:"misalignment_condition",data:null},{name:"Vibration",props:"vibration_condition",data:null},{name:"Supports",props:"supports_condition",data:null},{name:"Corrosion",props:"corrosion_condition",data:null},{name:"Insulation",props:"insulation_condition",data:null}],this.pipingThickness=[{name:"Reading",props:"reading"},{name:"Long Term Cr",props:"lt_cr"},{name:"Remaining Life",props:"remaining_life"},{name:"Thick. Min",props:"t_min"},{name:"Short Term CR",props:"st_cr"},{name:"Half Life",props:"half_life"},{name:"Retirement Date",props:"retirement_date"}],this.damageMechanismDetails=[{type:"text",prop:"piping_damage_mechanism",head:"Piping Damage Mechanism",width:"200px"},{type:"text",prop:"notes",head:"Notes",width:"200px"},{type:"text",prop:"type_location",head:"Expected Type/Location",width:"200px"},{type:"text",prop:"last_insp_date",head:"Last Insp.Date",width:"200px"},{type:"text",prop:"insp_due_date",head:"Insp. Due Date",width:"200px"}],this.inspectionHistoryData=[],this.inspectionHistoryDetails=[{type:"text",prop:"proposal_id",head:"Inspection Id",width:"100px"},{type:"editable date",prop:"inspection_date",head:"Inspection Date",width:"200px"},{type:"text",prop:"inspection_summary",head:"Inspection Summary",width:"300px"},{type:"check",prop:"caried_out",head:"Caried Out",width:"50px"}]}ngOnInit(){this.thicknesService.getDataThickness().subscribe(({data:e})=>{this.tablePosition=e;const n=e[0];!n||(this.showData(n),this.getReportData(null==n?void 0:n.id),this.dataSource=new l.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)},()=>this.toastr.danger("Please add asset data.","Data not found."))}getReportData(e){this.reportService.getAssetsReport(e).subscribe(({data:{damage_mechanism:n,visual_condition:a,proposal:s,asset:r,cml:g}})=>{var m,f;this.damageMechanismData=null===(m=this.variables.damageMechanismName)||void 0===m?void 0:m.map(({id:u,piping_damage_mechanism:_})=>{const d=null==n?void 0:n[u];return d?Object.assign(Object.assign({},d),{piping_damage_mechanism:_}):null}).filter(u=>null!=u),this.viewTable.regenerateTable(this.damageMechanismData),this.pipingVisual=this.pipingVisual.map(({name:u,props:_})=>{var d;return{name:u,props:_,data:null!==(d=a[_])&&void 0!==d?d:null}}),this.inspectionHistoryData=s?[Object.assign(Object.assign({},s),{inspection_summary:null===(f=null==s?void 0:s.inspection_method)||void 0===f?void 0:f.map(({type:u,method:_,technique:d})=>` ${u} ${_} ${d}`)})]:[],this.pipingThickness=this.pipingThickness.map(({name:u,props:_})=>{const{reading:d,min_required_thickness:C,lt_cr:U,st_cr:k,remaining_life:Kt,half_life:te,retirement_date:ee,next_tm_insp_date:ie,next_ve_insp_date:ne,mawp:ae}=this.variables.getThicknessCalculation(Object.assign(Object.assign({},r),{cml:g}));return{name:u,props:_,data:Object.assign(Object.assign({},r),{reading:d.toFixed(4),t_min:C.toFixed(4),lt_cr:U.toFixed(4),st_cr:k.toFixed(4),remaining_life:Kt.toFixed(4),half_life:te.toFixed(4),retirement_date:ee,next_tm_insp_date:ie,next_ve_insp_date:ne,mawp:ae.toFixed(4)})[_]}})},()=>this.toastr.danger("Please add asset data.","Data not found."))}seeDocument(){var e;this.reportService.getAttachment(null===(e=this.pipeData)||void 0===e?void 0:e.attachment).subscribe(n=>{this.toastr.info("Getting your document. Please Wait...","Download PDF");const a=new Blob([n],{type:"application/pdf"}),s=URL.createObjectURL(a);window.open(s)})}showData(e){var n;const a=e.qr_code;a&&(this.reportURL=x.N.apiUrl+"/qr_code/"+e.qr_code),a||(this.reportURL=null),this.pipeData=e,this.imageLink="object"==typeof e.images?null===(n=null==e?void 0:e.images)||void 0===n?void 0:n.map(s=>({src:x.N.apiUrl+"/image/"+s,alt:"Pipe Asssets"})):[],e&&(this.variables.removeChartData(this.thicknessChart),this.variables.removeChartData(this.remainingChart),this.thicknessChartData(this.thicknessChart,e),this.remainingLifeChartData(this.remainingChart,e))}thicknessChartData(e,{cml:n}){const{datasets:a,allYear:s}=this.variables.getCharCML(n,"last_thickness_reading");e.data.labels=s,e.chart.data.datasets=a,e.chart.update()}corrosionChartData(e,n){const a=this.variables.getCMLCalc(n),{datasets:s,allYear:r}=this.variables.getCharCML(a,"lt_cr");e.data.labels=r,e.chart.data.datasets=s,e.chart.update()}remainingLifeChartData(e,n){const a=this.variables.getCMLCalc(n),{datasets:s,allYear:r}=this.variables.getCharCML(a,"remaining_life");e.data.labels=r,e.chart.data.datasets=s,e.chart.update()}filterByClass(e){let n=this.tablePosition.filter(a=>a.class==e);"All"==e&&(n=this.tablePosition),this.dataSource=new l.by(n)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(w),t.Y36(N.L),t.Y36(p.quB),t.Y36(G.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-report-piping-assets"]],viewQuery:function(e,n){if(1&e&&(t.Gf(y.V,5),t.Gf(T.NW,5),t.Gf(b.YE,5),t.Gf(M,5),t.Gf(S,5),t.Gf(O,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.viewTable=a.first),t.iGM(a=t.CRH())&&(n.paginator=a.first),t.iGM(a=t.CRH())&&(n.sort=a.first),t.iGM(a=t.CRH())&&(n.thicknessChart=a.first),t.iGM(a=t.CRH())&&(n.remainingChart=a.first),t.iGM(a=t.CRH())&&(n.pdfReportAssets=a.first)}},decls:70,vars:26,consts:[[1,"d-flex","justify-content-between"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"row","row-cols-4"],[1,"col"],["placeholder","Class","status","primary","size","small",1,""],[3,"value","click",4,"ngFor","ngForOf"],["placeholder","Conditions","status","primary","size","small",1,""],["placeholder","Susceptibility","status","primary","size","small",1,""],["placeholder","MAWP","status","primary","size","small",1,""],[1,"row"],[1,"col-3"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%","box-shadow","none",3,"dataSource"],["matColumnDef","piping_id"],["mat-header-cell","","mat-sort-header","",3,"ngStyle",4,"matHeaderCellDef"],["mat-cell","","style","cursor : pointer",3,"ngStyle","mouseover","mouseout","click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of GitHub search results",3,"length","pageSize"],[1,"col-9"],[4,"ngIf"],[1,"fw-bolder","text-primary","mb-2","d-block"],[1,"row","row-cols-3"],["class","row",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"row","row-cols-2","mt-3"],["class","row mb-2",4,"ngFor","ngForOf"],[3,"tableHeader","tableFooter","columnDetails","tableData"],[3,"tableHeader","tableFooter","columnDetails","tableData",4,"ngIf"],[3,"refresh"],[3,"value","click"],["mat-header-cell","","mat-sort-header","",3,"ngStyle"],["mat-cell","",2,"cursor","pointer",3,"ngStyle","mouseover","mouseout","click"],["nameCell",""],["mat-header-row",""],["mat-row",""],[1,"col-8"],["id","carouselExampleInterval","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item","data-bs-interval","10000",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleInterval","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleInterval","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-4","d-flex","justify-content-center","align-self-center"],["class","border rounded",4,"ngIf"],["nbButton","","status","primary","class","mt-2 me-2 w-100","size","small","outline","",3,"click",4,"ngIf"],[1,"d-flex"],["nbButton","","status","primary","size","small","outline","","nbPopover","Print Report","nbPopoverTrigger","hint",1,"mt-2","me-2","w-100",3,"click"],["icon","printer-outline"],["nbButton","","status","primary","size","small","outline","","nbPopover","See Attachment","nbPopoverTrigger","hint",1,"mt-2","ms-2","w-100",3,"disabled","click"],["icon","file-text-outline"],[1,"row","mt-3"],[1,"text-secondary","col-4"],[1,"text-secondary"],["data-bs-interval","10000",1,"carousel-item",3,"ngClass"],[1,"overflow-hidden","d-flex","align-justify-center",2,"height","15rem"],[1,"w-100","img-fluid",3,"src","alt"],[1,"border","rounded"],[3,"elementType","errorCorrectionLevel","value"],["nbButton","","status","primary","size","small","outline","",1,"mt-2","me-2","w-100",3,"click"],[1,"row","mb-2"],[1,"col-8","text-secondary"],[1,"col","text-secondary"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card")(1,"nb-card-header",0)(2,"div")(3,"h5"),t._uU(4,"Piping Assets"),t.qZA(),t.TgZ(5,"mat-form-field")(6,"mat-label"),t._uU(7,"Hit Enter To Search"),t.qZA(),t.TgZ(8,"input",1,2),t.NdJ("keyup",function(s){return n.applyFilter(s)}),t.qZA()()(),t.TgZ(10,"div",3)(11,"div",4),t._uU(12,"Class"),t.qZA(),t.TgZ(13,"div",4)(14,"nb-select",5),t.YNc(15,V,2,2,"nb-option",6),t.qZA()(),t.TgZ(16,"div",4),t._uU(17,"Conditions"),t.qZA(),t.TgZ(18,"div",4)(19,"nb-select",7),t.YNc(20,W,2,2,"nb-option",6),t.qZA()(),t.TgZ(21,"div",4),t._uU(22,"Susceptibility"),t.qZA(),t.TgZ(23,"div",4)(24,"nb-select",8),t.YNc(25,X,2,2,"nb-option",6),t.qZA()(),t.TgZ(26,"div",4),t._uU(27,"MAWP"),t.qZA(),t.TgZ(28,"div",4)(29,"nb-select",9),t.YNc(30,K,2,2,"nb-option",6),t.qZA()()()(),t.TgZ(31,"nb-card-body",10)(32,"div",11)(33,"table",12),t.ynx(34,13),t.YNc(35,et,2,2,"th",14),t.YNc(36,nt,3,4,"td",15),t.BQk(),t.YNc(37,at,1,0,"tr",16),t.YNc(38,ot,1,0,"tr",17),t.qZA(),t._UZ(39,"mat-paginator",18),t.qZA(),t.TgZ(40,"div",19),t.YNc(41,st,2,0,"h5",20),t.TgZ(42,"nb-card")(43,"nb-card-body"),t.YNc(44,dt,45,11,"section",20),t.TgZ(45,"section")(46,"h6",21),t._uU(47,"Piping Visual"),t.qZA(),t.TgZ(48,"div",22),t.YNc(49,mt,5,2,"div",23),t.qZA()(),t.TgZ(50,"section",24)(51,"h6",21),t._uU(52,"Piping Calculation"),t.qZA(),t.TgZ(53,"div",25),t.YNc(54,_t,5,2,"div",26),t.qZA()(),t.TgZ(55,"section")(56,"h6",21),t._uU(57,"Piping Damage Mechanism"),t.qZA(),t._UZ(58,"ngx-mat-table",27),t.qZA(),t.TgZ(59,"section")(60,"h6",21),t._uU(61,"Inspection History"),t.qZA(),t.YNc(62,gt,2,0,"span",20),t.YNc(63,ht,1,6,"ngx-mat-table",28),t.qZA(),t.TgZ(64,"section")(65,"h6",21),t._uU(66,"Trend"),t.qZA(),t._UZ(67,"ngx-dashboard-remaining-chart")(68,"ngx-dashboard-thickness-chart"),t.qZA()()()()()(),t.TgZ(69,"report-assets-pdf",29),t.NdJ("refresh",function(){return n.ngOnInit()}),t.qZA()),2&e&&(t.xp6(15),t.Q6J("ngForOf",t.DdM(20,ft)),t.xp6(5),t.Q6J("ngForOf",t.DdM(21,bt)),t.xp6(5),t.Q6J("ngForOf",t.DdM(22,vt)),t.xp6(5),t.Q6J("ngForOf",t.DdM(23,xt)),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",n.resultsLength)("pageSize",30),t.xp6(2),t.Q6J("ngIf",!n.pipeData),t.xp6(3),t.Q6J("ngIf",n.pipeData),t.xp6(5),t.Q6J("ngForOf",n.pipingVisual),t.xp6(5),t.Q6J("ngForOf",n.pipingThickness),t.xp6(4),t.Q6J("tableHeader",t.DdM(24,P))("tableFooter",t.DdM(25,Tt))("columnDetails",n.damageMechanismDetails)("tableData",n.damageMechanismData),t.xp6(4),t.Q6J("ngIf",!n.inspectionHistoryData.length),t.xp6(1),t.Q6J("ngIf",n.inspectionHistoryData.length))},directives:[p.Asz,p.ndF,Z.KE,Z.hX,q.Nt,p.rs,h.sg,p.q51,p.yKW,l.BZ,b.YE,l.w1,l.fO,l.ge,b.nU,h.PC,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk,T.NW,h.O5,h.mk,v.zF,p.DPz,p.ydg,p.fMN,y.V,S,M,O],encapsulation:2}),i})(),H=(()=>{class i extends D.Z{constructor(){super(),this.chartType="bar",this.yLabels=[],this.legendPosition="bottom",this.showRightSclae=!0,this.datasets=[],this.defineOptions({chartTitle:"Chart Piping Circuit"})}ngOnInit(){this.generateChart("piping_circuit_chart")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-piping-circuit-chart"]],features:[t.qOj],decls:1,vars:0,consts:[["id","piping_circuit_chart"]],template:function(e,n){1&e&&t._UZ(0,"canvas",0)},encapsulation:2}),i})();var Ct=c(2787);function At(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function yt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Rt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"nb-option",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().filterByClass(s)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const wt=function(){return{width:"40px"}};function qt(i,o){1&i&&(t.TgZ(0,"th",22),t._uU(1," Circuit Id "),t.qZA()),2&i&&t.Q6J("ngStyle",t.DdM(1,wt))}const Pt=function(i){return{color:i}};function Ut(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",23,24),t.NdJ("mouseover",function(){return t.CHM(e),t.MAs(1).style.color="#0492c2"})("mouseout",function(){const s=t.CHM(e).$implicit;return t.MAs(1).style.color=t.oxw().selectionData.piping_circuit_name==s.piping_circuit_name?"#0492c2":"black"})("click",function(){const s=t.CHM(e).$implicit;return t.oxw().showData(s)}),t._uU(2),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.Q6J("ngStyle",t.VKq(2,Pt,n.selectionData.piping_circuit_name==e.piping_circuit_name?"#0492c2":"black")),t.xp6(2),t.hij(" ",e.piping_circuit_name," ")}}function kt(i,o){1&i&&t._UZ(0,"tr",25)}function Ft(i,o){1&i&&t._UZ(0,"tr",26)}function Mt(i,o){1&i&&(t.TgZ(0,"h5"),t._uU(1,"Please Add Circuit Data."),t.qZA())}function St(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"No Image Available"),t.qZA())}function Ot(i,o){if(1&i&&(t.TgZ(0,"div",49)(1,"div",50),t._UZ(2,"img",51),t.qZA()()),2&i){const e=o.$implicit;t.Q6J("ngClass",0==o.index?"active":""),t.xp6(2),t.Q6J("src",e.src,t.LSH)("alt",null==e?null:e.alt)}}function Nt(i,o){if(1&i&&(t.TgZ(0,"div",10)(1,"span",52),t._uU(2),t.qZA(),t.TgZ(3,"span",4),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.data)}}const J=function(){return{show:!1}},L=function(){return{pageSize:5}};function Ht(i,o){if(1&i&&t._UZ(0,"ngx-mat-table",53),2&i){const e=t.oxw(2);t.Q6J("tableHeader",t.DdM(4,J))("tableFooter",t.DdM(5,L))("columnDetails",e.columnDetails)("tableData",e.pipingThicknessData)}}function Jt(i,o){if(1&i&&(t.TgZ(0,"nb-list-item",54),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Lt(i,o){if(1&i&&t._UZ(0,"ngx-mat-table",53),2&i){const e=t.oxw(2);t.Q6J("tableHeader",t.DdM(4,J))("tableFooter",t.DdM(5,L))("columnDetails",e.inspectionHistoryDetails)("tableData",e.inspectionHistoryData)}}function Qt(i,o){if(1&i&&(t.TgZ(0,"nb-card")(1,"nb-card-body")(2,"section")(3,"h6",27),t._uU(4),t.qZA(),t.TgZ(5,"div",10)(6,"div",28)(7,"div",29)(8,"div",30),t.YNc(9,St,2,0,"span",20),t.YNc(10,Ot,3,3,"div",31),t.qZA(),t.TgZ(11,"button",32),t._UZ(12,"span",33),t.TgZ(13,"span",34),t._uU(14,"Previous"),t.qZA()(),t.TgZ(15,"button",35),t._UZ(16,"span",36),t.TgZ(17,"span",34),t._uU(18,"Next"),t.qZA()()()(),t.TgZ(19,"div",37)(20,"div")(21,"div",38),t._UZ(22,"ngx-qrcode",39),t.qZA(),t.TgZ(23,"button",40),t._uU(24,"See Attachment"),t.qZA()()()(),t.TgZ(25,"div",41)(26,"span",42),t._uU(27,"Date In Service"),t.qZA(),t.TgZ(28,"span",28),t._uU(29),t.qZA(),t.TgZ(30,"span",42),t._uU(31,"Class"),t.qZA(),t.TgZ(32,"span",28),t._uU(33),t.qZA(),t.TgZ(34,"span",42),t._uU(35,"Notes"),t.qZA(),t.TgZ(36,"span",28),t._uU(37),t.qZA()(),t.TgZ(38,"span",43),t._uU(39,"Recomendation"),t.qZA(),t.TgZ(40,"p"),t._uU(41),t.qZA()(),t.TgZ(42,"section")(43,"h6",27),t._uU(44,"Piping Visual"),t.qZA(),t.TgZ(45,"div",44),t.YNc(46,Nt,5,2,"div",45),t.qZA()(),t.TgZ(47,"section",46)(48,"h6",27),t._uU(49,"Piping Thickness"),t.qZA(),t.YNc(50,Ht,1,6,"ngx-mat-table",47),t.qZA(),t.TgZ(51,"section")(52,"h6",27),t._uU(53,"Piping Circuit Damage Mechanisms"),t.qZA(),t.TgZ(54,"span",43),t._uU(55,"Active Damage Mechanism"),t.qZA(),t.TgZ(56,"nb-list"),t.YNc(57,Jt,2,1,"nb-list-item",48),t.qZA()(),t.TgZ(58,"section")(59,"h6",27),t._uU(60,"Inspection History"),t.qZA(),t.YNc(61,Lt,1,6,"ngx-mat-table",47),t.qZA(),t.TgZ(62,"section")(63,"h6",27),t._uU(64,"Trend"),t.qZA(),t._UZ(65,"ngx-piping-circuit-chart"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(null==e.selectionData?null:e.selectionData.piping_circuit_name),t.xp6(5),t.Q6J("ngIf",!e.imageLink),t.xp6(1),t.Q6J("ngForOf",e.imageLink),t.xp6(12),t.Q6J("elementType",e.elementType)("errorCorrectionLevel",e.correctionLevel)("value",e.value),t.xp6(7),t.Oqu(null==e.selectionData?null:e.selectionData.date_in_service),t.xp6(4),t.Oqu(null==e.selectionData?null:e.selectionData.class),t.xp6(4),t.Oqu(null==e.selectionData?null:e.selectionData.notes),t.xp6(4),t.Oqu(null==e.selectionData?null:e.selectionData.recomendation),t.xp6(5),t.Q6J("ngForOf",e.pipingVisual),t.xp6(4),t.Q6J("ngIf",e.pipingThicknessData),t.xp6(7),t.Q6J("ngForOf",e.activeDamageMechaninsm),t.xp6(4),t.Q6J("ngIf",e.inspectionHistoryData.length)}}const It=function(){return["All",1,2,3,4]},Yt=function(){return["No Filter","Excellent","Good","Average","Below Average","Poor"]},jt=function(){return["No Filter","Low","Medium","High"]},Et=function(){return["No Filter","Normal","Abnormal"]},zt=[{path:"",component:I,children:[{path:"piping-assets",component:Zt},{path:"piping-circuits",component:(()=>{class i{constructor(e,n,a){this.pipingCircuitService=e,this.reportService=n,this.variables=a,this.elementType=v.TT.URL,this.correctionLevel=v.Jk.HIGH,this.value="https://www.google.com/",this.datasets=[{label:"Reading (mm)",yAxisID:"A",prop:"reading"},{label:"T minimum (mm)",yAxisID:"A",prop:"min_required_thickness"},{label:"Nominal Thickness (mm)",yAxisID:"A",prop:"nominal_thickness"},{label:"Corrosion Rate (mm/Year)",yAxisID:"B",prop:"lt_cr"}],this.tablePosition=[],this.dataSource=new l.by(this.tablePosition),this.displayedColumns=["piping_circuit_name"],this.resultsLength=0,this.imageLink=[],this.pipingVisual=[{name:"Leaks",props:"leaks_condition",data:null},{name:"Misalignment",props:"misalignment_condition",data:null},{name:"Vibration",props:"vibration_condition",data:null},{name:"Supports",props:"supports_condition",data:null},{name:"Corrosion",props:"corrosion_condition",data:null},{name:"Insulation",props:"insulation_condition",data:null}],this.activeDamageMechaninsm=[],this.columnDetails=[{type:"text",prop:"piping_id",head:"Piping Id",width:"200px"},{type:"text",prop:"reading",head:"Reading (mm)",width:"200px"},{type:"text",prop:"min_required_thickness",head:"T min (mm)",width:"200px"},{type:"text",prop:"lt_cr",head:"LT CR (mm/Year)",width:"200px"},{type:"text",prop:"st_cr",head:"ST CR (mm/Year)",width:"200px"},{type:"text",prop:"remaining_life",head:"RL (Years)",width:"200px"},{type:"text",prop:"half_life",head:"HL (Years)",width:"200px"},{type:"text",prop:"retirement_date",head:"Retirement date",width:"200px"},{type:"text",prop:"next_tm_insp_date",head:"Next TM",width:"200px"},{type:"text",prop:"next_ve_insp_date",head:"Next VE",width:"200px"},{type:"text",prop:"mawp",head:"MAWP",width:"200px"}],this.inspectionHistoryData=[],this.inspectionHistoryDetails=[{type:"text",prop:"proposal_id",head:"Inspection Id",width:"100px"},{type:"editable date",prop:"inspection_date",head:"Inspection Date",width:"200px"},{type:"text",prop:"inspection_summary",head:"Inspection Summary",width:"300px"},{type:"check",prop:"caried_out",head:"Caried Out",width:"50px"}]}ngOnInit(){this.pipingCircuitService.getPipingCircuits().subscribe(({data:n})=>{this.tablePosition=n;const a=n[0];!a||(this.showData(a),this.getCircuitReport(null==a?void 0:a.id),this.dataSource=new l.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)});let e=(Math.random()+1).toString(36).substring(7);console.log("random",e)}getCircuitReport(e){this.reportService.getCircuitReport(e).subscribe(({data:{assets:n}})=>{const a=n.map(({asset:s,cml:r})=>Object.assign(Object.assign({},s),{cml:r}));this.circuitChartData(this.circuitChart,{piping:a}),this.pipingVisual=this.pipingVisual.map(({name:s,props:r})=>({name:s,props:r,data:this.switchToLevel(Math.round(this.visualConditionAvg(n,r)/n.length))})),n.filter(s=>null!=s).forEach(({damage_mechanism:s,proposal:r})=>{var g;if(!this.inspectionHistoryData.find(u=>u.id==(null==r?void 0:r.id))){const u=r?null===(g=r.inspection_method)||void 0===g?void 0:g.map(({type:_,technique:d,method:C})=>` ${_} ${C} ${d}`):[];this.inspectionHistoryData.push(Object.assign(Object.assign({},r),{inspection_summary:u}))}this.variables.damageMechanismName.map(({id:u,piping_damage_mechanism:_})=>{const d=null==s?void 0:s[u];return d?Object.assign(Object.assign({},d),{piping_damage_mechanism:_}):null}).filter(u=>null!=u).map(({piping_damage_mechanism:u})=>u).forEach(u=>{this.activeDamageMechaninsm.includes(u)||this.activeDamageMechaninsm.push(u)})}),this.pipingThicknessData=n.map(s=>{const{min_required_thickness:r,reading:g,lt_cr:m,st_cr:f,remaining_life:u,half_life:_,retirement_date:d,next_tm_insp_date:C,next_ve_insp_date:U,mawp:k}=this.variables.getThicknessCalculation(Object.assign(Object.assign({},s.asset),{cml:s.cml}));return Object.assign(Object.assign({},s.asset),{min_required_thickness:r.toFixed(2),reading:g.toFixed(2),lt_cr:m.toFixed(2),st_cr:f.toFixed(2),remaining_life:u.toFixed(2),half_life:_.toFixed(2),retirement_date:d,next_tm_insp_date:C,next_ve_insp_date:U,mawp:k.toFixed(2)})})})}circuitChartData(e,n){const{piping:a}=n,s=null==a?void 0:a.map(m=>m.piping_id);this.variables.removeChartData(this.circuitChart);const r=a.map(m=>this.variables.getThicknessCalculation(m));e.data.labels=s;const g=this.datasets.map(m=>{const f="#"+(16777216*Math.random()|0).toString(16).padStart(6,"0"),u=s.map(_=>r.find(d=>d.piping_id==_)[m.prop]);return Object.assign(Object.assign({},m),{borderColor:f,backgroundColor:f,data:u})});e.chart.data.datasets=g,e.chart.update()}visualConditionAvg(e,n){return null==e?void 0:e.map(a=>{var s;return this.switchToPoint(null===(s=null==a?void 0:a.visual_condition)||void 0===s?void 0:s[n])}).reduce((a,s)=>a+s,0)}switchToPoint(e){return"Excellent"==e?5:"Good"==e?4:"Average"==e?3:"Below Average"==e?2:"Poor"==e?1:0}switchToLevel(e){return 5==e?"Excellent":4==e?"Good":3==e?"Average":2==e?"Below Average":1==e?"Poor":null}filterByClass(e){let n=this.tablePosition.filter(a=>a.class==e);"All"==e&&(n=this.tablePosition),this.dataSource=new l.by(n)}showData(e){var n;this.selectionData=e,this.getCircuitReport(e.id),this.imageLink=null===(n=null==e?void 0:e.images)||void 0===n?void 0:n.map(a=>({src:x.N.apiUrl+"/image/"+a,alt:"Pipe Asssets"}))}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ct.t),t.Y36(w),t.Y36(N.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-report-piping-circuit"]],viewQuery:function(e,n){if(1&e&&(t.Gf(H,5),t.Gf(T.NW,5),t.Gf(b.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.circuitChart=a.first),t.iGM(a=t.CRH())&&(n.paginator=a.first),t.iGM(a=t.CRH())&&(n.sort=a.first)}},decls:43,vars:16,consts:[[1,"d-flex","justify-content-between"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"row","row-cols-4"],[1,"col"],["placeholder","Class","status","primary","size","small",1,""],[3,"value","click",4,"ngFor","ngForOf"],["placeholder","Conditions","status","primary","size","small",1,""],["placeholder","Susceptibility","status","primary","size","small",1,""],["placeholder","MAWP","status","primary","size","small",1,""],[1,"row"],[1,"col-3"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%","box-shadow","none",3,"dataSource"],["matColumnDef","piping_circuit_name"],["mat-header-cell","","mat-sort-header","",3,"ngStyle",4,"matHeaderCellDef"],["mat-cell","","style","cursor : pointer",3,"ngStyle","mouseover","mouseout","click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of GitHub search results",3,"length","pageSize"],[1,"col-9"],[4,"ngIf"],[3,"value","click"],["mat-header-cell","","mat-sort-header","",3,"ngStyle"],["mat-cell","",2,"cursor","pointer",3,"ngStyle","mouseover","mouseout","click"],["nameCell",""],["mat-header-row",""],["mat-row",""],[1,"fw-bolder","text-primary","mb-2","d-block"],[1,"col-8"],["id","carouselExampleInterval","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item","data-bs-interval","10000",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleInterval","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleInterval","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-4","d-flex","justify-content-center","align-self-center"],[1,"border","rounded"],[3,"elementType","errorCorrectionLevel","value"],["nbButton","","status","primary","size","small","outline","",1,"mt-2","w-100"],[1,"row","mt-3"],[1,"text-secondary","col-4"],[1,"text-secondary"],[1,"row","row-cols-3"],["class","row",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"tableHeader","tableFooter","columnDetails","tableData",4,"ngIf"],["style","height: 1rem;",4,"ngFor","ngForOf"],["data-bs-interval","10000",1,"carousel-item",3,"ngClass"],[1,"overflow-hidden","d-flex","align-justify-center",2,"height","15rem"],[1,"w-100","img-fluid",3,"src","alt"],[1,"col","text-secondary"],[3,"tableHeader","tableFooter","columnDetails","tableData"],[2,"height","1rem"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card")(1,"nb-card-header",0)(2,"div")(3,"h5"),t._uU(4,"Piping Circuit"),t.qZA(),t.TgZ(5,"mat-form-field")(6,"mat-label"),t._uU(7,"Hit Enter To Search"),t.qZA(),t.TgZ(8,"input",1,2),t.NdJ("keyup",function(s){return n.applyFilter(s)}),t.qZA()()(),t.TgZ(10,"div",3)(11,"div",4),t._uU(12,"Class"),t.qZA(),t.TgZ(13,"div",4)(14,"nb-select",5),t.YNc(15,At,2,2,"nb-option",6),t.qZA()(),t.TgZ(16,"div",4),t._uU(17,"Conditions"),t.qZA(),t.TgZ(18,"div",4)(19,"nb-select",7),t.YNc(20,yt,2,2,"nb-option",6),t.qZA()(),t.TgZ(21,"div",4),t._uU(22,"Susceptibility"),t.qZA(),t.TgZ(23,"div",4)(24,"nb-select",8),t.YNc(25,Dt,2,2,"nb-option",6),t.qZA()(),t.TgZ(26,"div",4),t._uU(27,"MAWP"),t.qZA(),t.TgZ(28,"div",4)(29,"nb-select",9),t.YNc(30,Rt,2,2,"nb-option",6),t.qZA()()()(),t.TgZ(31,"nb-card-body",10)(32,"div",11)(33,"table",12),t.ynx(34,13),t.YNc(35,qt,2,2,"th",14),t.YNc(36,Ut,3,4,"td",15),t.BQk(),t.YNc(37,kt,1,0,"tr",16),t.YNc(38,Ft,1,0,"tr",17),t.qZA(),t._UZ(39,"mat-paginator",18),t.qZA(),t.TgZ(40,"div",19),t.YNc(41,Mt,2,0,"h5",20),t.YNc(42,Qt,66,14,"nb-card",20),t.qZA()()()),2&e&&(t.xp6(15),t.Q6J("ngForOf",t.DdM(12,It)),t.xp6(5),t.Q6J("ngForOf",t.DdM(13,Yt)),t.xp6(5),t.Q6J("ngForOf",t.DdM(14,jt)),t.xp6(5),t.Q6J("ngForOf",t.DdM(15,Et)),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",n.resultsLength)("pageSize",30),t.xp6(2),t.Q6J("ngIf",!n.selectionData),t.xp6(1),t.Q6J("ngIf",n.selectionData))},directives:[p.Asz,p.ndF,Z.KE,Z.hX,q.Nt,p.rs,h.sg,p.q51,p.yKW,l.BZ,b.YE,l.w1,l.fO,l.ge,b.nU,h.PC,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk,T.NW,h.O5,h.mk,v.zF,p.DPz,y.V,p.zP_,p.qBV,H],encapsulation:2}),i})()}]}];let Bt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[A.Bz.forChild(zt)],A.Bz]}),i})();var $t=c(9511),Gt=c(2368),Vt=c(7446),Wt=c(4107);let Xt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[h.ez,Q.O,Bt,p.zyh,p.x4g,p.IIj,p.nKr,p.COg,p.T2N,p.KdK,$t.H,Gt.rP,l.p0,Vt.p9,T.TU,Z.lN,q.c,Wt.LD,b.JX,v.F5,p.LW9.forRoot({destroyByClick:!0,duration:3e3,position:p.fe3.BOTTOM_RIGHT,preventDuplicates:!0,limit:3}),p.spT]]}),i})()}}]);