"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[889],{5889:(In,q,w)=>{w.r(q),w.d(q,{NgxAuthModule:()=>Sn});var g=w(9808),x=w(3075),A=w(2497),t=w(5e3),E=w(520),j=w(2340);let pe=(()=>{class o{constructor(e){this.httpClient=e,this.apiUrl=j.N.apiUrl}getVerifyLogin(e){const n=this.apiUrl+"/login";let r=new E.WM;return r.append("Access-Control-Allow-Origin","*"),r.append("Access-Control-Allow-Methods","PUT, POST, DELETE, GET, OPTIONS"),r.append("Access-Control-Allow-Headers","Accept,Authorization,Content-Type"),r.append("Content-Type","application/json"),this.httpClient.post(n,e,{headers:r})}testAPI(){const e=this.apiUrl+"/login";return new E.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Accept,Authorization,Content-Type","Access-Control-Allow-Methods":"PUT, POST, DELETE, GET, OPTIONS"}),this.httpClient.post(e,{name:"Roganda",username:"roganda",email:"roganda@gmail.com",password:12345})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(E.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=w(3254),I=w(564);function me(o,i){if(1&o&&(t.TgZ(0,"li",21),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function be(o,i){if(1&o&&(t.TgZ(0,"nb-alert",17)(1,"p",18)(2,"b"),t._uU(3,"Oh snap!"),t.qZA()(),t.TgZ(4,"ul",19),t.YNc(5,me,2,1,"li",20),t.qZA()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.errors)}}function we(o,i){if(1&o&&(t.TgZ(0,"li",21),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function _e(o,i){if(1&o&&(t.TgZ(0,"nb-alert",22)(1,"p",18)(2,"b"),t._uU(3,"Hooray!"),t.qZA()(),t.TgZ(4,"ul",19),t.YNc(5,we,2,1,"li",20),t.qZA()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.messages)}}function ye(o,i){1&o&&(t.TgZ(0,"p",24),t._uU(1," Username is required! "),t.qZA())}function Ce(o,i){if(1&o&&(t.ynx(0),t.YNc(1,ye,2,0,"p",23),t.BQk()),2&o){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function xe(o,i){1&o&&(t.TgZ(0,"p",24),t._uU(1," Password is required! "),t.qZA())}function Te(o,i){if(1&o&&(t.TgZ(0,"p",24),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE(" Password should contains from ",e.getConfigValue("forms.validation.password.minLength")," to ",e.getConfigValue("forms.validation.password.maxLength")," characters ")}}function ve(o,i){if(1&o&&(t.ynx(0),t.YNc(1,xe,2,0,"p",23),t.YNc(2,Te,2,2,"p",23),t.BQk()),2&o){t.oxw();const e=t.MAs(19);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}const De=[{path:"",component:(()=>{class o{constructor(e){this.loginService=e}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(pe))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-auth"]],decls:6,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"nb-layout")(1,"nb-layout-column")(2,"nb-card")(3,"nb-card-body")(4,"nb-auth-block"),t._UZ(5,"router-outlet"),t.qZA()()()()())},directives:[f.Aqw,f.dP_,f.Asz,f.yKW,I.xZ,A.lC],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:center;align-items:center;height:calc(100vh - 5rem)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   nb-auth-block[_ngcontent-%COMP%]{margin:auto}@media (max-width: 767.98px){[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-radius:0;height:100vh}}[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:2.5rem}@media (max-width: 767.98px){[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:0}}"]}),o})(),children:[{path:"login",component:(()=>{class o extends I.Yx{constructor(){super(...arguments),this.showPassword=!1}login(){this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,{email:this.user.email,username:this.user.email,password:this.user.password,remember:this.rememberMe}).subscribe(n=>{this.submitted=!1,n.isSuccess()?(this.messages=n.getMessages(),localStorage.setItem("user",JSON.stringify(n.getResponse().body.user))):this.errors=n.getErrors();const r=n.getRedirect();r&&this.router.navigateByUrl(r),this.cd.detectChanges()})}}return o.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-login"]],features:[t.qOj],decls:23,vars:17,consts:[[1,"d-flex","justify-content-center"],["src","./assets/logo/piping.png","width","150","alt","logo sikomodo"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],["form","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","autocomplete","off","id","input-email","placeholder","Username","autofocus","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],[2,"position","relative"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Password",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],["nbButton","","fullWidth","","status","success",3,"disabled"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"p",2),t._uU(3,"Hello! Log in with your email."),t.qZA(),t.YNc(4,be,6,1,"nb-alert",3),t.YNc(5,_e,6,1,"nb-alert",4),t.TgZ(6,"form",5,6),t.NdJ("ngSubmit",function(){return n.login()}),t.TgZ(8,"div",7)(9,"label",8),t._uU(10,"Username:"),t.qZA(),t.TgZ(11,"input",9,10),t.NdJ("ngModelChange",function(s){return n.user.email=s}),t.qZA(),t.YNc(13,Ce,2,1,"ng-container",11),t.qZA(),t.TgZ(14,"div",7)(15,"label",12),t._uU(16,"Password:"),t.qZA(),t.TgZ(17,"div",13)(18,"input",14,15),t.NdJ("ngModelChange",function(s){return n.user.password=s}),t.qZA()(),t.YNc(20,ve,3,2,"ng-container",11),t.qZA(),t.TgZ(21,"button",16),t._uU(22," Log In "),t.qZA()()),2&e){const r=t.MAs(7),s=t.MAs(12),a=t.MAs(19);t.xp6(4),t.Q6J("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),t.xp6(1),t.Q6J("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),t.xp6(6),t.Q6J("ngModel",n.user.email)("status",s.dirty?s.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.email.required")),t.uIk("aria-invalid",!(!s.invalid||!s.touched)||null),t.xp6(2),t.Q6J("ngIf",s.invalid&&s.touched),t.xp6(5),t.Q6J("ngModel",n.user.password)("status",a.dirty?a.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),t.uIk("aria-invalid",!(!a.invalid||!a.touched)||null),t.xp6(2),t.Q6J("ngIf",a.invalid&&a.touched),t.xp6(1),t.ekj("btn-pulse",n.submitted),t.Q6J("disabled",n.submitted||!r.valid)}},directives:[g.O5,f.$9b,g.sg,x._Y,x.JL,x.F,f.h8i,x.Fj,x.JJ,x.On,x.Q7,x.wO,x.nD,f.DPz],encapsulation:2}),o})()},{path:"",pathMatch:"full",redirectTo:"login"}]}];let He=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.Bz.forChild(De)],A.Bz]}),o})();var Se=w(4738),Re=w(8929);w(3753),w(591),w(7625);let Z=(()=>{class o{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const n=e.offsetWidth;e.style.overflow="scroll";const r=this.document.createElement("div");r.style.width="100%",e.appendChild(r);const s=r.offsetWidth;return e.parentNode.removeChild(e),n-s}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(g.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),ne=(()=>{class o{getDimensions(e){return e.getBoundingClientRect()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),J=(()=>{class o{constructor(){this.columnInputChanges=new Re.xQ}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const z={},le="undefined"!=typeof document?document.createElement("div").style:void 0,X=function(){const o="undefined"!=typeof window?window.getComputedStyle(document.documentElement,""):void 0,i=void 0!==o?Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/):null,e=null!==i?i[1]:void 0,n=void 0!==e?"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1]:void 0;return n?{dom:n,lowercase:e,css:`-${e}-`,js:e[0].toUpperCase()+e.substr(1)}:void 0}();function O(o){const i=function L(o){return(o=(o=(o=o.replace(/[^a-zA-Z0-9 ]/g," ")).replace(/([a-z](?=[A-Z]))/g,"$1 ")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(i,e,n){return e.trim()+n.toUpperCase()})}(o);return z[i]||(void 0!==X&&void 0!==le[X.css+o]?z[i]=X.css+o:void 0!==le[o]&&(z[i]=o)),z[i]}"undefined"!=typeof window&&O("transform"),"undefined"!=typeof window&&O("backfaceVisibility"),"undefined"!=typeof window&&O("transform"),"undefined"!=typeof window&&O("perspective");const ce="undefined"!=typeof window?window.navigator.userAgent:"Chrome";/Safari\//.test(ce)&&/Chrome\//.test(ce);let vn=(()=>{class o{static forRoot(e){return{ngModule:o,providers:[{provide:"configuration",useValue:e}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Z,ne,J],imports:[[g.ez]]}),o})();"undefined"!=typeof document&&!document.elementsFromPoint&&(document.elementsFromPoint=function Dn(o,i){const e=[],n=[];let r,s,a;for(;(r=document.elementFromPoint(o,i))&&-1===e.indexOf(r)&&null!=r;)e.push(r),n.push({value:r.style.getPropertyValue("pointer-events"),priority:r.style.getPropertyPriority("pointer-events")}),r.style.setProperty("pointer-events","none","important");for(s=n.length;a=n[--s];)e[s].style.setProperty("pointer-events",a.value?a.value:"",a.priority);return e});var Hn=w(8143);let Sn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,x.u5,A.Bz,f.PYG,f.nKr,f.T2N,f.MfT,He,Se.O,f.j5J,I.S.forRoot({strategies:[I.OY.setup({name:"email",token:{class:I.OS,key:"access_token"},baseEndpoint:j.N.apiUrl,login:{endpoint:"/login",redirect:{success:"/pages",failure:null}},logout:{endpoint:"/logout",redirect:{success:"/"}}})],forms:{login:{redirectDelay:0,showMessages:{success:!0}}}}),f.BW0,f.P1,f.zyh,f.caZ,f.KdK,vn,f.V7y,f.uuI,f.KdK,Hn.$]]}),o})()}}]);